{%- comment -%} https://stackoverflow.com/questions/19331362/using-an-image-caption-in-markdown-jekyll {%- endcomment -%}

{%- assign lightboxID = include.src | default: include.srcabs | slugify | prepend: 'lightbox-' -%}

{%- capture src -%}
    {%- if include.srcabs -%}{{ include.srcabs }}
    {%- else -%}{{ site.baseurl }}{{ site.imagepath }}{{ include.src }}
    {%- endif -%}
{%- endcapture -%}

<figure>

    <a href="{{ include.url | default: src }}">
        <img src="{{ src }}" {% if include.style %} style="{{ include.style }}" {% endif %} alt="{{ include.alt }}">
    </a>

    {% if include.caption %}
        <figcaption>{{ include.caption }}</figcaption>
    {% endif %}

</figure>